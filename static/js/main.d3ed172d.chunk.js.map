{"version":3,"sources":["components/Item.js","components/Apple.js","components/App.js","stores/apple.store.js","index.js"],"names":["Item","inject","observer","this","props","apple","eat","className","src","alt","width","height","id","weight","onClick","React","Component","Apple","curList","curNum","curWeight","eatNum","eatWeight","pick","isPicking","buttonText","map","item","index","App","configure","enforceActions","makeAutoObservable","list","filter","isEaten","length","reduce","acc","cur","observable","action","findIndex","fetch","then","Math","floor","random","push","newAppleId","computed","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3ed172d.chunk.js","sourcesContent":["import React from \"react\"\nimport \"../styles/appleItem.scss\"\nimport { observer, inject } from \"mobx-react\"\n\n@inject('apple')\n@observer\nclass Item extends React.Component {\n  render() {\n    const { apple, eat } = this.props\n    return (\n      <div className=\"appleItem\">\n        <div className=\"apple\">\n          <img src=\"apple.png\" alt=\"\" width=\"50\" height=\"50\"/>\n        </div>\n        <div className=\"info\">\n          <div className=\"name\">红苹果 - {apple.id}号</div>\n          <div className=\"weight\">{apple.weight}克</div>\n        </div>\n        <div className=\"btn-div\">\n          <button onClick={() => eat(apple.id)}>吃掉</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Item\n","import React from \"react\";\nimport { inject, observer } from \"mobx-react\";\nimport Item from \"./Item\";\nimport \"../styles/appleBasket.scss\";\n\n@inject('apple')\n@observer\nclass Apple extends React.Component {\n  render() {\n    const { curList, curNum, curWeight, eatNum, eatWeight, pick, eat, isPicking, buttonText } = this.props.apple\n    return (\n      <div className=\"appleBusket\">\n        <div className=\"title\">苹果篮子</div>\n        <div className=\"stats\">\n          <div className=\"section\">\n            <div className=\"head\">当前</div>\n            <div className=\"content\">{curNum}个苹果，{curWeight}克</div>\n          </div>\n          <div className=\"section\">\n            <div className=\"head\">已吃掉</div>\n            <div className=\"content\">{eatNum}个苹果，{eatWeight}克</div>\n          </div>\n        </div>\n        <div className=\"appleList\">\n          {curList.map((item, index) => <Item key={index} apple={item} eat={eat}/>)}\n        </div>\n        <div className=\"btn-div\">\n          <button className={isPicking ? \"disabled\" : \"\"} onClick={pick}>\n            {buttonText}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Apple\n","import Apple from './Apple'\n\nfunction App() {\n  return (\n    <div>\n      <Apple />\n    </div>\n  )\n}\n\nexport default App\n","import { observable, action, makeAutoObservable, computed, configure } from \"mobx\";\n\nconfigure({ enforceActions: 'never' })\n\nclass Apple {\n  @observable list = [\n    {\n      id: 0,\n      weight: 233,\n      isEaten: false,\n    },\n  ];\n  @observable newAppleId = 0\n  @observable isPicking = false;\n  @observable buttonText = \"摘苹果\";\n  constructor() {\n    makeAutoObservable(this);\n  }\n  @action eat = (id) => {\n    const index = this.list.findIndex((apple) => apple.id === id);\n    if (index === -1) return;\n    this.list[index].isEaten = true;\n  };\n  @action pick = () => {\n    if (this.isPicking) return;\n    this.isPicking = true;\n    this.buttonText = \"正在采摘...\";\n    fetch(\"https://hacker-news.firebaseio.com/v0/jobstories.json\").then(\n      () => {\n        let weight = Math.floor(200 + Math.random() * 50)\n        this.isPicking = false\n        this.buttonText = \"摘苹果\"\n        this.list.push({\n          id: ++this.newAppleId,\n          weight: weight,\n          isEaten: false,\n        })\n      }\n    )\n  }\n  @computed get curList() {\n    return this.list.filter((apple) => apple.isEaten === false);\n  }\n  @computed get curNum() {\n    return this.list.filter((apple) => apple.isEaten === false).length;\n  }\n  @computed get curWeight() {\n    return this.list\n      .filter((apple) => apple.isEaten === false)\n      .reduce((acc, cur) => {\n        return (acc += cur.weight);\n      }, 0);\n  }\n  @computed get eatNum() {\n    return this.list.filter((apple) => apple.isEaten === true).length;\n  }\n  @computed get eatWeight() {\n    return this.list\n      .filter((apple) => apple.isEaten === true)\n      .reduce((acc, cur) => {\n        return (acc += cur.weight);\n      }, 0);\n  }\n}\n\nexport default new Apple();\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport apple from './stores/apple.store'\nimport { Provider } from 'mobx-react'\n\nReactDOM.render(\n  <Provider apple={apple}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}